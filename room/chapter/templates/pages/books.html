{% extends 'base.html' %}

{% load static %}
    


{% block content %}

<div style="direction: rtl;" class="wrapper">
  <!-- Content Wrapper. Contains page content -->
  <div   class="content-wrapper p-5">
    <!-- Content Header (Page header) -->

            <div class="row mb-2">
              <div class="col-sm-6">
                <h1>Books</h1>
              </div>

            </div>
        </section>
    
        <!-- Main content -->
        <section class="content">                  
          <!-- Default box -->
          <div class="card card-solid">
            <div class="card-body pb-0">
              <div class="row d-flex align-items-stretch">
                <!-- بداية الكتاب -->
                   {% for i in books %}
                   <div   class="col-12 col-sm-6 col-md-4 bookhide book{{i.category.id}} book{{i.status}}">
                    <div  id="" class="card bg-light">
                      <div  class="card-header text-muted border-bottom-0">
                        تصنيف الكتاب
                      </div>
                      <div class="card-body pt-0">
                        <div class="row">
                          <div class="col-7">
                            <h2 class="lead"><b>Name : {{i.title}}</b></h2>
                            <ul class="  fa-ul text-muted">
                              <li class="small"><span class="fa-li"></span> Status : {{i.status}} </li>
                              <li class="small"><span class="fa-li"></span> Price : {{i.price}}</li>
                            </ul>
                          </div>
                          <div class="col-5 text-center">
                              <img style="height: 120px; width: 120px;"  src="{{i.image_authoer}}" alt="" class="img-circle img-fluid">
                            </div>
                        </div>
                      </div>
                      <div class="card-footer">
                        <div class="text-right">
                          <a href="{% url 'delete' i.id %}" class="btn btn-sm bg-danger">
                            <i class="fas fa-trash"></i>
                          </a>
                          <a href="{% url 'update' i.id %}" class="btn btn-sm btn-primary">
                            <i class="fas fa-book"></i> Edit
                          </a>
                        </div>
                      </div>
                    </div>
                    
                  </div>

                   {% endfor %}
                 <!-- نهاية الكتاب -->
              </div>
            </div>
            <!-- /.card-body -->

            <!-- /.card-footer -->
          </div>
          <!-- /.card -->
    
        </section>
        <!-- /.content -->
      </div>
      <!-- /.content-wrapper -->
    
  </div>
  <!-- /.content-wrapper -->
</div>

{% endblock %}
  





  <!-- ./wrapper -->
  
 
<!-- REQUIRED SCRIPTS -->
<script src="plugins/jquery_datepacker/jquery_ui.js"></script>

<!-- jQuery -->
<script src="plugins/jquery/jquery.min.js"></script>
<!-- Bootstrap -->
<script src="plugins/bootstrap/js/bootstrap.bundle.min.js"></script>
<!-- AdminLTE -->
<script src="dist/js/adminlte.js"></script>
<!-- OPTIONAL SCRIPTS -->

<script src="plugins/chart.js/Chart.min.js"></script>

<script src="dist/js/demo.js"></script>
<!--<script src="dist/js/pages/dashboard3.js'"></script>
-->
<script>
  $(document).ready(function(){
    $('#myModal').on('shown.bs.modal', function () {
      $('#myInput').trigger('focus')
    });
/*here i will make loop for get id category and status for contact with books */
/*حساب اجمالي الارباح و هي عبارة عن حاصل جمع سعر الكتب عند البيع بالاضافة الى سعر استعارة الكتاب*/
  });
</script>
<script>
 
  


$(function () {
  'use strict'
 
  var ticksStyle = {
    fontColor: '#495057',
    fontStyle: 'bold'
  }

  var mode      = 'index'
  var intersect = true

  var $salesChart = $('#sales-chart')

  var salesChart  = new Chart($salesChart, {

    type   : 'bar',
    
    data   : {

      labels  : [
          

        'تفاصيل الارباح',

      ],


      datasets: [
        {
          backgroundColor: '#007bff',
          borderColor    : '#007bff',
          data           : [ 
               '50',
          ]
        },
        {
          backgroundColor: '#ced4da',
          borderColor    : '#ced4da',
          data           : [ 
                '30',
          ]
        }
      ]
    },

   
   
   options: {
      maintainAspectRatio: false,
      tooltips           : {
        mode     : mode,
        intersect: intersect
      },
      hover              : {
        mode     : mode,
        intersect: intersect
      },
      legend             : {
        display: false
      },
      scales             : {
        yAxes: [{
          // display: false,
          gridLines: {
            display      : true,
            lineWidth    : '4px',
            color        : 'rgba(0, 0, 0, .2)',
            zeroLineColor: 'transparent'
          },
          ticks    : $.extend({
            beginAtZero: true,

            // Include a dollar sign in the ticks
            callback: function (value, index, values) {
              if (value >= 1000) {
                value /= 1000
                value += 'k'
              }
              return '$' + value
            }
          }, ticksStyle)
        }],
        xAxes: [{
          display  : true,
          gridLines: {
            display: false
          },
          ticks    : ticksStyle
        }]
      }
    }
  });
  
 var pieChart = document.getElementById('visitors-chart').getContext('2d')

  var myPieChart = new Chart(pieChart, {
    type: 'pie',
    data: {
      datasets: [{
        data: ['35','25','40'],
        backgroundColor :["#27c100","#f3545d","#fdaf4b"],
        borderWidth: 10,
        
      }],
      labels: ['Available', 'Sold', 'Rented'] 
    },
    options : {
      responsive: true, 
      maintainAspectRatio: false,
      legend: {
        position : 'bottom',
        labels : {
          fontColor: '#000',
          fontSize: 15,
          usePointStyle : true,
          padding:30
        }
      },
      pieceLabel: {
        render: 'percentage',
        fontColor: 'white',
        fontSize: 14,
      },


    }
  })

})


 
</script>

</body>
</html>
